<!DOCTYPE html>
<html>
<head>
    <title>Time-Based Accounting Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* [Previous styles remain the same] */
        .two-column-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }
        
        .time-input {
            background: #f8fafc;
            padding: 16px;
            border-radius: 8px;
            margin-top: 8px;
        }

        .calculated-time {
            font-weight: 600;
            color: #1e40af;
            font-size: 16px;
            margin-top: 8px;
        }

        .qb-options {
            background: #f0f7ff;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
        }

        .total-time {
            background: #f0f9ff;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
            font-size: 18px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <div class="header">
            <h1>Time-Based Accounting Calculator</h1>
        </div>
        
        <div class="content">
            <div class="two-column-grid">
                <!-- Left Column - Input Values -->
                <div class="section">
                    <div class="section-header">
                        <h2 class="section-title">Service Requirements</h2>
                    </div>
                    <div class="input-group">
                        <label for="bankAccounts">Bank Accounts</label>
                        <input type="number" id="bankAccounts" placeholder="Enter number">
                        
                        <label for="creditCards">Credit Cards</label>
                        <input type="number" id="creditCards" placeholder="Enter number">
                        
                        <label for="transactions">Average Monthly Transactions</label>
                        <input type="number" id="transactions" placeholder="Enter number">
                        
                        <label for="transPerHour">Est. Cleared Transactions/hr</label>
                        <input type="number" id="transPerHour" placeholder="Enter number">
                        
                        <label for="properties">Properties</label>
                        <input type="number" id="properties" placeholder="Enter number">
                        
                        <label for="hasStripe">Stripe Integration</label>
                        <select id="hasStripe">
                            <option value="">Select...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                        
                        <label for="needsCategorization">Need Categorization</label>
                        <select id="needsCategorization">
                            <option value="">Select...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                        
                        <label for="monthlyAJEs">Average Monthly AJEs</label>
                        <input type="number" id="monthlyAJEs" placeholder="Enter number">
                        
                        <label for="ajesPerHour">Estimate of AJEs per Hour</label>
                        <input type="number" id="ajesPerHour" placeholder="Enter number">
                    </div>
                </div>

                <!-- Right Column - Time Calculations -->
                <div class="section">
                    <div class="section-header">
                        <h2 class="section-title">Time Calculations</h2>
                    </div>
                    <div class="time-input">
                        <label for="transactionalHours">Est. Transactional/Rec Hours</label>
                        <div id="transactionalHours" class="calculated-time">0.00</div>
                        
                        <label for="otherHours">Est. Other Hours</label>
                        <input type="number" id="otherHours" placeholder="Enter hours">
                        
                        <div class="total-time">
                            <label>Total Estimated Hours per Month</label>
                            <div id="totalHours" class="calculated-time">0.00</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QB Section -->
            <div class="section qb-options">
                <div class="section-header">
                    <h2 class="section-title">QuickBooks Subscription</h2>
                </div>
                <div class="input-group">
                    <label for="qbVersion">Select QB Version</label>
                    <select id="qbVersion">
                        <option value="">Select...</option>
                        <option value="50">Essentials ($50)</option>
                        <option value="70">Plus ($70)</option>
                        <option value="140">Advanced ($140)</option>
                    </select>
                </div>
            </div>

            <!-- Rate Settings -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Rate Settings</h2>
                </div>
                <div class="input-group">
                    <label for="hourlyRate">Hourly Rate ($)</label>
                    <input type="number" id="hourlyRate" placeholder="Enter rate">
                </div>
            </div>

            <!-- Results Section -->
            <div class="results">
                <h3 class="results-header">Monthly Quote</h3>
                <div class="result-grid">
                    <div class="result-item">
                        <div class="result-label">Base Price (Hours × Rate)</div>
                        <div class="result-value" id="basePrice">$0.00</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Mid Price (+30% Markup)</div>
                        <div class="result-value" id="midPrice">$0.00</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">High Price (+50% Markup)</div>
                        <div class="result-value" id="highPrice">$0.00</div>
                    </div>
                </div>
                <div id="warning" class="warning" style="display: none">
                    <span class="warning-icon">⚠️</span>
                    Quote exceeds $1,500 - Send to accounting team
                </div>
            </div>
        </div>
    </div>

    <script>
        function roundToNearest10(num) {
            return Math.round(num / 10) * 10;
        }

        function calculate() {
            // Get input values
            const bankAccounts = Number(document.getElementById('bankAccounts').value) || 0;
            const creditCards = Number(document.getElementById('creditCards').value) || 0;
            const transactions = Number(document.getElementById('transactions').value) || 0;
            const transPerHour = Number(document.getElementById('transPerHour').value) || 0;
            const monthlyAJEs = Number(document.getElementById('monthlyAJEs').value) || 0;
            const ajesPerHour = Number(document.getElementById('ajesPerHour').value) || 0;
            const otherHours = Number(document.getElementById('otherHours').value) || 0;
            const hourlyRate = Number(document.getElementById('hourlyRate').value) || 0;
            const qbFee = Number(document.getElementById('qbVersion').value) || 0;

            // Calculate transaction hours
            const bankHours = bankAccounts * 0.5;
            const cardHours = creditCards * 0.25;
            const transactionHours = transPerHour ? transactions / transPerHour : 0;
            const ajeHours = ajesPerHour ? monthlyAJEs / ajesPerHour : 0;

            // Calculate total transactional hours
            const totalTransHours = bankHours + cardHours + transactionHours + ajeHours;
            document.getElementById('transactionalHours').textContent = totalTransHours.toFixed(2);

            // Calculate total hours
            const totalHours = totalTransHours + otherHours;
            document.getElementById('totalHours').textContent = totalHours.toFixed(2);

            // Calculate prices
            const basePrice = (totalHours * hourlyRate) + qbFee;
            const midPrice = roundToNearest10(basePrice * 1.3);
            const highPrice = roundToNearest10(basePrice * 1.5);

            // Update display
            document.getElementById('basePrice').textContent = basePrice ? `$${basePrice.toFixed(2)}` : '$0.00';
            document.getElementById('midPrice').textContent = midPrice ? `$${midPrice.toFixed(2)}` : '$0.00';
            document.getElementById('highPrice').textContent = highPrice ? `$${highPrice.toFixed(2)}` : '$0.00';

            // Show/hide warning
            document.getElementById('warning').style.display = 
                highPrice > 1500 ? 'block' : 'none';
        }

        // Add event listeners to all inputs
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('input', calculate);
        });

        // Initial calculation
        calculate();
    </script>
</body>
</html>
