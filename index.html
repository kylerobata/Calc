<!DOCTYPE html>
<html>
<head>
    <title>Accounting Bidding Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: #f7f7f7;
        }
        .calculator {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        .results {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
        }
        .quote {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-top: 1px solid #ddd;
        }
        .warning {
            margin-top: 15px;
            padding: 10px;
            background: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 4px;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h2>Accounting Bidding Calculator</h2>
        
        <div class="input-group">
            <label for="bankAccounts">Bank Accounts:</label>
            <input type="number" id="bankAccounts" value="2" min="0">
            
            <label for="creditCards">Credit Cards:</label>
            <input type="number" id="creditCards" value="4" min="0">
            
            <label for="transactions">Monthly Transactions:</label>
            <input type="number" id="transactions" value="200" min="0">
            
            <label for="ajes">Monthly AJEs:</label>
            <input type="number" id="ajes" value="0" min="0">
            
            <label for="flips">Active Flips:</label>
            <input type="number" id="flips" value="0" min="0">
            
            <label for="rentals">Rental Properties:</label>
            <input type="number" id="rentals" value="0" min="0">
            
            <label for="qbVersion">QuickBooks Version:</label>
            <select id="qbVersion">
                <option value="42">Essentials ($42)</option>
                <option value="63">Plus ($63)</option>
                <option value="140">Advanced ($140)</option>
            </select>
        </div>

        <div class="results">
            <h3>Results</h3>
            <div id="hoursResult"></div>
            <div class="quote" id="lowQuote"></div>
            <div class="quote" id="midQuote"></div>
            <div class="quote" id="highQuote"></div>
            <div id="warning" class="warning" style="display: none;">
                ⚠️ Quote exceeds $1,500 - Send to accounting team
            </div>
        </div>
    </div>

    <script>
        function calculate() {
            // Get input values
            const bankAccounts = Number(document.getElementById('bankAccounts').value);
            const creditCards = Number(document.getElementById('creditCards').value);
            const transactions = Number(document.getElementById('transactions').value);
            const ajes = Number(document.getElementById('ajes').value);
            const flips = Number(document.getElementById('flips').value);
            const rentals = Number(document.getElementById('rentals').value);
            const qbFee = Number(document.getElementById('qbVersion').value);

            // Calculate hours
            const bankHours = bankAccounts * 0.5;
            const cardHours = creditCards * 0.25;
            const transactionHours = transactions / 100;
            const ajeHours = ajes > 0 ? Math.max(1, ajes / 4) : 0;
            const baseHours = Math.max(4, bankHours + cardHours + transactionHours);
            const totalHours = baseHours + ajeHours + 1;

            // Calculate fees
            const propertyFees = (flips + rentals) * 50;
            const baseFee = Math.max(1250, totalHours * 150);
            const totalFee = baseFee + propertyFees + qbFee;

            // Calculate quotes
            const lowQuote = Math.max(808, totalFee * 0.85);
            const midQuote = Math.max(950, totalFee);
            const highQuote = Math.max(1188, totalFee * 1.15);

            // Update results
            document.getElementById('hoursResult').innerHTML = `
                <p>Total Monthly Hours: ${totalHours.toFixed(2)}</p>
                <p>Property Fees: $${propertyFees.toFixed(2)}</p>
            `;
            document.getElementById('lowQuote').innerHTML = `
                <span>Low Quote:</span>
                <strong>$${lowQuote.toFixed(2)}</strong>
            `;
            document.getElementById('midQuote').innerHTML = `
                <span>Mid Quote:</span>
                <strong>$${midQuote.toFixed(2)}</strong>
            `;
            document.getElementById('highQuote').innerHTML = `
                <span>High Quote:</span>
                <strong>$${highQuote.toFixed(2)}</strong>
            `;

            // Show/hide warning
            document.getElementById('warning').style.display = 
                highQuote > 1500 ? 'block' : 'none';
        }

        // Add event listeners to all inputs
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('input', calculate);
        });

        // Initial calculation
        calculate();
    </script>
</body>
</html>
